{% extends 'base_h_owner.html' %}
{% load static %}
{% block content %}
<div class="col-lg-12 grid-margin stretch-card">
  <div class="card">
    <div class="card-header">
      <div class="row">
        {% for message in messages %}
        <p class="text-center alert alert-info">{{ message }}</p>
        {% endfor %}
      </div>
      <h4 class="card-title mx-auto my-auto">
        <b>List of Hotel Tables</b> 
      </h4>
      <a href="{% url 'hotel-table.create' %}" class="btn btn-primary mb-3 mx-2" style="float: right;">Add Table</a>
    </div>
    <div class="card-body">
      {% if tables %}
      <table class="table rounded mx-auto table-responsive table-striped align-items-center table-bordered" id='dt1'>
        <thead>
        <tr class="text-center fw-bold">
            <th>Sr/No.</th>
            <th>Table Name</th>
            <th>Description</th>
            <th>Hotel Name</th>
            <th>Actions</th>
        </tr>
        </thead>
        
      </table>
      {% else %}
      <h4 class = 'text-center alert alert-warning'>No records to show</h4>
      {% endif %}
    </div>
  </div>
</div>
<script>
  $(document).ready(function() {
      // $('#dt1').DataTable({     
      //   "aLengthMenu": [[10, 25, 50, 100, -1], [10, 25, 50, 100, "All"]],
      //     "iDisplayLength": 10
      //    } 
      // );

      // $('.dataTables_length').addClass('col-md-6')
      // $('.dataTables_length label').addClass('col-md-12')
      // $('.dataTables_length label .form-control').addClass('col-md-2')

      $('#dt1').DataTable({
        processing: true,
        serverSide: true,
        "ajax": "/api-data/hotel-table/?format=datatables",
        "columns": [
            { "data": "id" },
            { "data": "table_name" },
            { "data": "description" },
            { "data": "hotel_id" },
            { "data": "actions" }
        ],
        "lengthMenu": [[10, 25, 50, 100, -1], [10, 25, 50, 100, "All"]],
        searching: true,
        paging:true,
        order: [[0, 'asc']],
        responsive: true
      });
  } );
  </script>
{% endblock %}
  